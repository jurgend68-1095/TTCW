!function(e){function a(a,t){e(".theme-wizard-main").before('<div class="theme-wizard-notice notice notice-'+t+'">'+a+"</div>")}function t(a=""){0==e('[data-tab="'+a+'"] .wizard-right-sign').length&&e('[data-tab="'+a+'"]').append('<span class="wizard-right-sign dashicons dashicons-yes-alt"></span>')}function s(){e(".theme-wizard-notice").slideUp(300,function(){e(this).remove()})}e('[data-tab="theme-welcome"]').addClass("nav-tab-active"),e("#theme-welcome").addClass("active"),e(document).ready(function(){""==tmpcoderMessages.wizard_step?(e('[data-tab="theme-welcome"]').addClass("nav-tab-active"),e("#theme-welcome").addClass("active")):"1"==tmpcoderMessages.wizard_step?(t("theme-welcome"),e('[data-tab="theme-welcome"]').addClass("disabled"),setTimeout(()=>{e('[data-tab="install-plugins"]').removeClass("disabled"),e('[data-tab="install-plugins"]').trigger("click")},100)):"2"==tmpcoderMessages.wizard_step?(t("theme-welcome"),e('[data-tab="theme-welcome"]').addClass("disabled"),t("install-plugins"),e('[data-tab="install-plugins"]').addClass("disabled"),setTimeout(()=>{e('[data-tab="get-pro-plugins"]').removeClass("disabled"),e('[data-tab="get-pro-plugins"]').trigger("click")},100)):setTimeout(()=>{e('[data-tab="install-plugins"]').trigger("click")},100)}),jQuery(document).on("click",".skip-theme-wizard",function(e){e.preventDefault(),jQuery("#tmpcoder-skip-theme-wizard-confirm-popup").fadeIn(),jQuery(".tmpcoder-skip-theme-wizard-popup-wrap").fadeIn(),jQuery(".tmpcoder-admin-popup").fadeIn()}),jQuery(document).on("click",".tmpcoder-skip-theme-wizard-confirm-button",function(e){e.preventDefault(),jQuery(".tmpcoder-skip-theme-wizard-popup-wrap").fadeOut(),window.location.href=tmpcoderMessages.tmpcoder_admin_url}),jQuery(document).on("click",".popup-close",function(){jQuery("#tmpcoder-skip-theme-wizard-confirm-popup").fadeOut(),jQuery(".tmpcoder-admin-popup").fadeOut(),jQuery(".tmpcoder-skip-theme-wizard-popup-wrap").fadeOut()}),e(document).on("click","#theme-welcome .next-step-btn",function(){e('[data-tab="install-plugins"]').removeClass("disabled"),e('[data-tab="install-plugins"]').trigger("click"),t("theme-welcome")}),e(document).on("submit",".install-plugins-form",function(i){i.preventDefault(),e(".process-loader").removeClass("hide"),e(".process-loader .loader-text").text(tmpcoderMessages.required_plugin_installing);var l=e(this).serialize();console.log("formdata",e(this).serializeArray()),l.plugins&&(l.plugins=JSON.stringify(l.plugins)),e.ajax({url:ajaxurl,type:"POST",data:l,beforeSend:function(){},success:function(i){i.includes("00000")&&(i=JSON.parse(i.split("00000")[1])),e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),i.success?(a(i.data.message,"success"),setTimeout(s,5e3),t("install-plugins"),e('[data-tab="install-plugins"]').addClass("disabled"),e('[data-tab="get-pro-plugins"]').removeClass("disabled"),e('[data-tab="get-pro-plugins"]').trigger("click")):i?.data?.message!=""&&(a(i.data.message,"error"),setTimeout(s,5e3))},error:function(t){e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),a(tmpcoderMessages.network_error,"error"),setTimeout(s,5e3)}})}),e(document).on("click",".theme-wizard-nav .nav-tab",function(){if(e(this).hasClass("disabled"))return;let a=e(this).closest(".theme-wizard-nav"),s=e(this).attr("data-tab");if(a.find(".nav-tab").removeClass("nav-tab-active"),e(".tab-content").removeClass("active"),e(this).addClass("nav-tab-active"),e("#"+s).addClass("active"),"install-plugins"==s){var i;e(".process-loader").removeClass("hide"),e(".process-loader .loader-text").text(tmpcoderMessages.getting_required_plugins),i=e("#templatescoder-core-import-demos-js-extra").length,1==e("#select-demo #templatescoder-core-import-demos-js-extra").length&&(i=0),e.ajax({url:ajaxurl,type:"POST",data:"action=tmpcoder_get_recommended_plugins&js_exist="+i+"&nonce="+tmpcoderMessages.get_plugins_nonce,beforeSend:function(){},success:function(a){if(e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),a.success&&(a.data.skip_this&&(e(".get-pro-plugins").removeClass("disabled"),e(".get-pro-plugins").trigger("click"),t("install-plugins")),a?.data?.plugins)){var s='<div class="feature-section recommended-plugins three-col demo-import-boxed">';a.data.plugins.length>0&&a.data.plugins.forEach(e=>{s+='<div class="col plugin_box"><div class="theme-grid-box">',s+='<a target="_blank" title="'+e.name+'" href="'+e.link+'"><img src="'+e.image+'" alt="plugin box image" class="demo-preview plugin-preview" loading="lazy"></a>',s+='<div class="action_bar "><span class="plugin_name">'+e.name+"</span>",s+='<span class="plugin-card-plugin action_button active">',e.activated?s+="<label>"+tmpcoderMessages.installed_and_activated+"</label>":e.installed?s+='<input type="checkbox" class="plugin-checkbox" id="plugins-'+e.slug+'" name="plugins['+e.slug+']" value="1" checked /><label for="plugins-'+e.slug+'">'+tmpcoderMessages.installed_and_activate+"</label>":s+='<input type="checkbox" class="plugin-checkbox" name="plugins['+e.slug+']" value="1" checked /><label>'+tmpcoderMessages.install_and_activate+"</label>",s+="</span>",s+="</div>",s+="</div></div>"}),s+="</div>",s+=tmpcoderMessages.form_nonce,s+='<div class="next-step-action"><input type="hidden" name="action" value="tmpcoder_install_recommended_plugins" />',a.data.next_step?s+='<button type="submit" class="button button-primary next-step-btn">'+a.data.next_step+"</button>":s+='<button type="submit" class="button button-primary next-step-btn">'+tmpcoderMessages.next_step_btn+"</button>",s+="</div>",s='<h2 class="wizard-heading">'+tmpcoderMessages.install_required_plugins+'</h2><p class="wizard-title-text">'+tmpcoderMessages.install_required_plugins_text+'</p><form class="install-plugins-form" method="POST">'+s+"</form>",e("#install-plugins .tmpcoder-message-box").html(s)}},error:function(a){e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text("")}})}"get-pro-plugins"==s&&(e(".process-loader").removeClass("hide"),e(".process-loader .loader-text").text(tmpcoderMessages.loading_pro_plugin_info),e.ajax({url:ajaxurl,type:"POST",data:"action=tmpcoder_get_pro_plugin_info&nonce="+tmpcoderMessages.get_pro_addons_info_nonce,beforeSend:function(){},success:function(a){a.success?(e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),e("#get-pro-plugins .pro-plugins-part").html(a.data.data)):(e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),e("#get-pro-plugins .pro-plugins-part").html(tmpcoderMessages.license_error))},error:function(a){console.log("err",a),e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text("")}}))})}(jQuery);